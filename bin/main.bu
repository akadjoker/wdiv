
import timer;
import math;

using math;
 

var time = timer.create(1.0);
print(math.PI);

var pi=math.PI;

 

print(math.PI);
print(PI);
 

 var t1 = timer.create(5.0);
    
    // Cria timer de 10 segundos
    var t2 = timer.create(1);
    
    // Verifica imediatamente (deve ser false)
    if (timer.elapsed(t1)) 
    {
        print("T1 elapsed! (should not happen)");
    }


def get(n) 
{
    if (n < 2) return n;
    return get(n - 1) + get(n - 2);
}

var start = clock();
for(var i=1;i<5;i=i+1)
{
    print(get(28));
}

write("elapsed: ({}} - start)\n",clock());

// Hex numbers
var hex1 = 0xFF;
var hex2 = 0x1A;
var hex3 = 0x00;

// Unicode escapes na string
var str1 = "Hello\u263A";           // Emoji â˜ºï¸
var str2 = "Rocket\U0001F680";      // Emoji ðŸš€
var str3 = "Tab\there";             // Tab normal
var str4 = "Hex\x41";               // \x41 = 'A'

print(hex1);
print(hex2);
print(hex3);
print(str1);
print(str2);
print(str4);


def zort(a,b)
{
    return a<b;
}


def sorte_array(a, fun)
{
    var result = [];
    
    // copiar array original
    for (var i = 0; i < a.length(); i = i + 1)
    {
        result.push(a[i]);
    }

    // bubble sort usando a funÃ§Ã£o fun
    for (var i = 0; i < result.length(); i = i + 1)
    {
        for (var j = i + 1; j < result.length(); j = j + 1)
        {
            if (!fun(result[i], result[j]))
            {
                var temp = result[i];
                result[i] = result[j];
                result[j] = temp;
            }
        }
    }

    return result;
}



var list = [0,4,2,5,6,23];


var b =sorte_array(list,zort);
print(b);


// Sort with custom comparator

def asc(a, b)
{
    return a < b;
}

def desc(a, b)
{
    return a > b;
}

def sort_array(a, cmp)
{
    var r = [];

    for (var i = 0; i < a.length(); i = i + 1)
        r.push(a[i]);

    for (var i = 0; i < r.length(); i = i + 1)
    {
        for (var j = i + 1; j < r.length(); j = j + 1)
        {
            if (!cmp(r[i], r[j]))
            {
                var t = r[i];
                r[i] = r[j];
                r[j] = t;
            }
        }
    }

    return r;
}

var list = [5, 1, 4, 2, 8];

print(sort_array(list, asc));
print(sort_array(list, desc));


// for_each example

def for_each(a, fn)
{
    for (var i = 0; i < a.length(); i = i + 1)
        fn(a[i]);
}

def show(x)
{
    write("value = {}\n", x);
}

var nums = [10, 20, 30];
for_each(nums, show);

// Filter example

def filter(a, pred)
{
    var r = [];
    for (var i = 0; i < a.length(); i = i + 1)
    {
        if (pred(a[i]))
            r.push(a[i]);
    }
    return r;
}

def is_even(n)
{
    return n % 2 == 0;
}

print(filter([1,2,3,4,5,6], is_even));


// Map example

def map(a, fn)
{
    var r = [];
    for (var i = 0; i < a.length(); i = i + 1)
        r.push(fn(a[i]));
    return r;
}

def square(x)
{
    return x * x;
}

print(map([1,2,3,4], square));


class Point
{
    var x,y;
    def init(x,y)
    {
        self.x=x;
        self.y=y;
        print(self);
    
     
    }

    def show()
    {
        print(self);
        write("Point({}, {})\n", self.x, 2);
    }
}

p = Point(10,20);
p.show();


def update() 
{
     print("update");
}

def draw() 
{
    print("draw");
}



 